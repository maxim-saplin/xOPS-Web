(this.webpackJsonpxOPS=this.webpackJsonpxOPS||[]).push([[0],{134:function(e,t,s){e.exports=s.p+"static/media/windows.15e72531.svg"},135:function(e,t,s){e.exports=s.p+"static/media/macos.3a236d88.svg"},136:function(e,t,s){e.exports=s.p+"static/media/google-play.7041ae46.svg"},137:function(e,t,s){e.exports=s.p+"static/media/apk.a00fa3a4.svg"},138:function(e,t,s){e.exports=s.p+"static/media/github.990c2b02.svg"},139:function(e,t,s){e.exports=s.p+"static/media/linux.51ffa359.svg"},140:function(e,t,s){e.exports=s(355)},349:function(e,t,s){},350:function(e,t,s){},355:function(e,t,s){"use strict";s.r(t);s(141),s(343),s(344);var i=s(0),l=s.n(i),a=s(132),n=s.n(a),r=(s(349),s(350),s(133)),o=s.n(r);var c={};var d={};const h={pageTitle:"xOPS CPU Benchmark: Performance Database",aboutTitle:"xOPS CPU Benchmark: About App",downloadTitle:"xOPS CPU Benchmark: Download",title:"xOPS CPU Benchmark",subTitle:"Performance Chart",ST_FLT:"[F]loating single-threaded",MT_FLT:"[F]loating multi-threaded",ST_INT:"[I]nteger single-threaded",MT_INT:"[I]nteger multi-threaded",ST_FLT_s:"[F]lt. ST",MT_FLT_s:"[F]lt. MT",ST_INT_s:"[I]nt. ST",MT_INT_s:"[I]nt. MT",ST_FLT_f:"Floating single-threaded",MT_FLT_f:"Floating multi-threaded",ST_INT_f:"Integer single-threaded",MT_INT_f:"Integer multi-threaded",performance:"Performance",nothingToShow:"Nothing to show",Android:"[A]ndroid",macOS:"mac[O]S",Windows:"[W]indows",all:"All",gflops:"GFLOPS",ginops:"GINOPS",hitEnter:"Hit Enter & fix top result",hintDoubleTap:"Double tap to fix record at the top",hintSwipe:"Swipe left or right to change test",close:"[C]lose",yourDevice:"Your device",result_FSM:"Flt.S\xf7M",result_ISM:"Int.S\xf7M",result_FS:"Flt.S",result_FM:"Flt.M",result_IS:"Flt.S",result_IM:"Flt.M",init:function(){const e=new URLSearchParams(window.location.search).get("lang");let t,s=this.enLocale;this.locale=s,s=e?e.toLocaleLowerCase():navigator.language.toLowerCase(),s.includes(this.ruLocale)?(t=c,this.locale=this.ruLocale):s.includes(this.frLocale)&&(t=d,this.locale=this.frLocale),t&&Object.keys(h).forEach(e=>{t[e]&&(h[e]=t[e])})},enLocale:"en",ruLocale:"ru",frLocale:"fr"};var u=h;const m=/[^\[]+(?=\])/;class p extends i.Component{constructor(e){if(super(e),this.onKeyPress=this.onKeyPress.bind(this),this.initShortcut=this.initShortcut.bind(this),this.shortcut=null,this.props.children){let e=this.props.children.match(m);e&&1===e.length&&(this.shortcut=e[0].toLowerCase())}}initShortcut(){this.shortcut&&!this.keyPressSubscribed?(document.addEventListener("keypress",this.onKeyPress),this.keyPressSubscribed=!0):this.keyPressSubscribed&&(document.removeEventListener("keypress",this.onKeyPress),this.keyPressSubscribed=!1)}onKeyPress(e){document.activeElement instanceof HTMLBodyElement&&this.shortcut===e.key&&this.props.onClick&&this.props.onClick()}componentWillUnmount(){this.keyPressSubscribed&&document.removeEventListener("keypress",this.onKeyPress)}render(){return this.initShortcut(),l.a.createElement("a",{className:this.props.className,onClick:this.props.onClick},this.props.children)}}var g=p;class T extends i.Component{constructor(e){super(e),this.toggle=this.toggle.bind(this),this.selectAll=this.selectAll.bind(this),this.onKeyPress=this.onKeyPress.bind(this)}toggle(e){return this.props.selectedKey.includes(e)?this.props.selectedKey.length>1?this.props.selectedKey.filter(t=>t!==e):this.props.selectedKey:(this.props.selectedKey.push(e),this.props.selectedKey)}selectAll(){return this.props.items.map(e=>e.key)}onKeyPress(e){if(document.activeElement instanceof HTMLBodyElement&&this.shortcuts.has(e.key)){let t=this.shortcuts.get(e.key);if(Array.isArray(t)){let e=t[0].key;for(let s=0;s<t.length;s++)t[s].key===this.props.selectedKey&&s+1<t.length&&(e=t[s+1].key);this.props.itemClick(e)}else Array.isArray(this.props.selectedKey)?this.props.itemClick(this.toggle(t.key)):t.key!==this.props.selectedKey&&this.props.itemClick(t.key)}}componentWillUnmount(){this.keyPressSubscribed&&document.removeEventListener("keypress",this.onKeyPress)}initShortcuts(){for(var e in this.prevItems=this.props.items,this.shortcuts=new Map,this.prevItems)if(this.prevItems[e].shortcut)if(this.shortcuts.has(this.prevItems[e].shortcut)){let t=this.shortcuts.get(this.prevItems[e].shortcut);if(Array.isArray(t))t.push(this.prevItems[e]);else{let s=[t,this.prevItems[e]];this.shortcuts.set(this.prevItems[e].shortcut,s)}}else this.shortcuts.set(this.prevItems[e].shortcut,this.prevItems[e]);this.shortcuts.size>0?(document.addEventListener("keypress",this.onKeyPress),this.keyPressSubscribed=!0):this.keyPressSubscribed&&(document.removeEventListener("keypress",this.onKeyPress),this.keyPressSubscribed=!1)}updateShortcuts(){this.prevItems?this.prevItems!==this.props.items&&this.initShortcuts():this.initShortcuts()}render(){return this.updateShortcuts(),this.props.items?l.a.createElement("ul",{className:this.props.className},this.props.items.map(e=>l.a.createElement("li",{key:e.key,className:this.props.selectedKey.includes(e.key)?"selected":null,onClick:Array.isArray(this.props.selectedKey)?()=>this.props.itemClick(this.toggle(e.key)):()=>this.props.itemClick(e.key)},e.name)),this.props.selectAll&&l.a.createElement("li",{onClick:()=>this.props.itemClick(this.selectAll())},u.all)):null}}var b=T;let S,f;const v=/[^\[]+(?=\])/;function E(e){let t=e.name.match(v);t&&1===t.length&&(e.shortcut=t[0].toLowerCase())}const P={getTests:function(){var e,t;return f||(e=this.data.tests,t="_s",f=e.map(e=>{let s={key:e,name:u[e+t]?u[e+t]:e,shortcut:null};return E(s),s})),f},getPlatforms:function(){if(!S){e=this.data.platforms,S=e.map(e=>{let t={key:e,name:u[e]?u[e]:e,shortcut:null};return E(t),t});let t=S.map(e=>e.key);4!==t.length&&console.log("Invalid number of platforms in DB, 3 supported, found "+t.length),t.includes(this.Windows)||console.log("Windows platfrom not found in DB"),t.includes(this.Android)||console.log("Android platfrom not found in DB"),t.includes(this.macOS)||console.log("macOS platfrom not found in DB")}var e;return S},ST_FLT:"ST_FLT",MT_FLT:"MT_FLT",ST_INT:"ST_INT",MT_INT:"MT_INT",Windows:"Windows",Android:"Android",macOS:"macOS"};var k=P;const y={addYourDeviceResult:function(e){e.device||(e.device=u.yourDevice),e.id=this.yourDeviceId,e.deviceDetail="",this.data.results[this.data.results.length-1].id===e.id&&this.data.results.pop(),this.data.results.push(e)},getResults:function(e,t,s,i){let l=[];l.push(e=>!e.hidden),e&&Array.isArray(e)&&l.push(t=>e.includes(t.platform)),s&&(s=s.trim().toLowerCase())&&(s.length<4?l.push(e=>e.device.toLowerCase().includes(s)):l.push(e=>e.device.toLowerCase().includes(s)||e.deviceDetail.toLowerCase().includes(s))),i&&i.length>0&&l.push(e=>!i.includes(e.id));let a=this.data.results.filter(e=>{let t=!0;for(let s=0;s<l.length;s++)if(t&=l[s](e),!t)return!1;return!0});return t&&a.sort((e,s)=>s[t]-e[t]),a.length>0?this.lastResultId=a[0].id:this.lastResultId=null,a},getResultById:function(e){return e<0||e>this.data.results.length?null:0===e&&0===this.data.results[this.data.results.length-1].id?this.data.results[this.data.results.length-1]:this.data.results[e-1]},idExists:function(e){return null!=this.getResultById(e)},setPercents:function(e,t){let s=0;for(let i=0;i<e.length;i++)e[i][t]>s&&(s=e[i][t]);for(let i=0;i<e.length;i++)e[i].percent=e[i][t]/s},getLastResultId:function(){return this.lastResultId?this.lastResultId:null},lastResultId:null,yourDeviceId:0};var w=y;var I={dictionaries:k,results:w,init:function(){let e=()=>new Promise(e=>{fetch("https://raw.githubusercontent.com/maxim-saplin/xOPS-Web/master/Results_version.json",{cache:"no-store"}).then(e=>e.json()).then(t=>{i.setItem("xops_db_version",t.v),this.version=t.v,e(t.v)})}),t=()=>new Promise(e=>{fetch("https://raw.githubusercontent.com/maxim-saplin/xOPS-Web/master/Results.json",{cache:"no-store"}).then(e=>e.json()).then(t=>{i.setItem("xops_db",JSON.stringify(t)),k.data=t,w.data=t,e(t)})}),s=null,i=window.localStorage,l=i.getItem("xops_db");if(l){try{l=JSON.parse(l)}catch(n){}l.results||(l=null)}let a=i.getItem("xops_db_version");return l?s=new Promise(s=>{e().then(e=>{e!==a?t().then(e=>s(e)):(k.data=l,w.data=l,s(l))})}):(e(),s=t()),s},initFake:function(){k.data={results:[{id:1,device:"Xiaomi Mi 8 SE",platform:"Android",deviceDetail:"Snapdragon 710",deviceComment:"",deviceYear:2018,ST_FLT:1.6,MT_FLT:8,ST_INT:2.5,MT_INT:11.7,hidden:""},{id:2,device:'Apple 15" MacBook Pro',platform:"macOS",deviceDetail:"Core i7 8850H",deviceComment:"",deviceYear:2018,ST_FLT:4.5,MT_FLT:39.7,ST_INT:8.2,MT_INT:57.1,hidden:""},{id:3,device:'Apple 15" MacBook Pro',platform:"Windows",deviceDetail:"Core i7 8850H, Bootcamp",deviceComment:"",deviceYear:2018,ST_FLT:4.3,MT_FLT:36.5,ST_INT:8.3,MT_INT:54.6,hidden:""},{id:4,device:"Galaxy Note 10",platform:"Android",deviceDetail:"Snapdragon 855",deviceComment:"",deviceYear:2019,ST_FLT:3.6,MT_FLT:21.5,ST_INT:5,MT_INT:21.5,hidden:""},{id:5,device:"Lenovo ThinkPad 13 2nd Gen",platform:"Windows",deviceDetail:"Core i5-7200U",deviceComment:"",deviceYear:2017,ST_FLT:3.2,MT_FLT:9.2,ST_INT:6.1,MT_INT:12.5,hidden:""}],platforms:["Android","macOS","Windows"],tests:["ST_FLT","MT_FLT","ST_INT","MT_INT"]},w.data=k.data}};class C extends i.PureComponent{constructor(e){super(e),this.textChanged=this.textChanged.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.moveCursorToEnd=this.moveCursorToEnd.bind(this),this.state={extraSpaces:!e.value,blink:!1,showHitn:!1},this.textInput=l.a.createRef()}textChanged(e){this.enterPressed&&(e.target.innerText="",this.enterPressed=!1),this.props.searchChanged&&this.props.searchChanged(e.target.innerText,!0),e.target.innerText&&this.state.extraSpaces?this.setState({extraSpaces:!1}):e.target.innerText||this.state.extraSpaces||this.setState({extraSpaces:!0})}onKeyPress(e){if("Enter"===e.key||13===e.charCode){this.enterPressed=!0;let t=I.results.getLastResultId();e.target.innerText&&this.props.enterPressed&&t&&this.props.enterPressed(t)}else this.enterPressed=!1}moveCursorToEnd(e){e.innerText&&document.createRange&&window.setTimeout(()=>{let t=document.getSelection(),s=document.createRange();s.setStart(e.childNodes[0],e.innerText.length),s.collapse(!0),t.removeAllRanges(),t.addRange(s)},1)}componentDidUpdate(){document.activeElement===this.textInput.current&&this.moveCursorToEnd(this.textInput.current)}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"searchBox"},l.a.createElement("span",{contentEditable:"true",ref:this.textInput,onInput:this.textChanged,onKeyPress:this.onKeyPress,onFocus:e=>{this.setState({blink:!0}),this.moveCursorToEnd(e.nativeEvent.target)},onBlur:()=>{this.setState({blink:!1})}},this.props.value),l.a.createElement("span",{className:this.state.blink?"blink":"",onClick:()=>{this.textInput.current.focus()}},!this.state.blink&&this.state.extraSpaces&&"\xa0\xa0\xa0\xa0","_"),"</"),l.a.createElement("span",{className:!this.state.extraSpaces&&this.state.blink?"searchBoxHint visible":"searchBoxHint"},u.hitEnter))}}var _=C;class x extends i.PureComponent{render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:this.props.selectedTest===this.props.test?"singleRes selected":"singleRes"},l.a.createElement("span",{className:"ttl"},this.props.testName),l.a.createElement("br",null),l.a.createElement("span",{className:"res"},this.props.result),l.a.createElement("br",{className:"unitBreak"}),l.a.createElement("span",{className:"unit"},this.props.unit)))}}var A=x;class L extends i.PureComponent{render(){let e=this.props.item;return e?l.a.createElement("span",{className:this.props.noHighlight?"centerColumn noHighlight":"centerColumn"},l.a.createElement(A,{selectedTest:this.props.selectedTest,test:I.dictionaries.ST_FLT,testName:u.result_FS,unit:u.gflops,result:e[I.dictionaries.ST_FLT]}),l.a.createElement(A,{selectedTest:this.props.selectedTest,test:I.dictionaries.MT_FLT,testName:u.result_FM,unit:u.gflops,result:e[I.dictionaries.MT_FLT]}),l.a.createElement(A,{selectedTest:this.props.selectedTest,test:I.dictionaries.ST_INT,testName:u.result_IS,unit:u.ginops,result:e[I.dictionaries.ST_INT]}),l.a.createElement(A,{selectedTest:this.props.selectedTest,test:I.dictionaries.MT_INT,testName:u.result_IM,unit:u.ginops,result:e[I.dictionaries.MT_INT]})):null}}var N=L;class F extends i.PureComponent{render(){let e=this.props.item;return e?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"leftColumn"},l.a.createElement("em",{itemProp:"name"},e.device),l.a.createElement("br",null),l.a.createElement("span",{className:"greyed",itemProp:"description"},e.deviceYear,e.deviceDetail&&","," ",e.deviceDetail)),l.a.createElement("span",{className:"rightColumn"},l.a.createElement("span",{style:{width:80*e.percent+"%"},itemProp:"throughput"},e[this.props.selectedTest]," ",this.props.selectedTest.includes("FLT")?u.gflops:u.ginops),this.props.closableX&&l.a.createElement("button",{onClick:()=>this.props.selectedIdRemoved(e.id)},"X"),this.props.closableEsc&&l.a.createElement("button",{onClick:()=>this.props.selectedIdRemoved(e.id)},"[Esc]"))):null}}var D=F;class R extends i.PureComponent{render(){return l.a.createElement("span",{className:"hint"},this.props.children)}}var M=R;class K extends i.Component{constructor(e){super(e),this.onKeyUp=this.onKeyUp.bind(this),this.handleSingleDblClicks=this.handleSingleDblClicks.bind(this),this.state={expandedId:null,doubleTapHint:!1},this.clickTimeout=null}getAllResults(e){let t=u.performance+"\n",s=I.dictionaries.getTests();for(var i=0;i<s.length;i++)t+=u[s[i].key+"_s"]+": "+e[s[i].key]+" ",t+=s[i].key.includes("FLT")?u.gflops:u.ginops,i!==s.length-1&&(t+="\n");return t}componentWillUnmount(){this.keyPressSubscribed&&document.removeEventListener("keyup",this.onKeyUp)}handleSingleDblClicks(e,t,s){e.preventDefault(),null!==this.clickTimeout?(console.log("Dbl"),clearTimeout(this.clickTimeout),this.clickTimeout=null,s&&s()):(console.log("Sngl"),t&&t(),this.clickTimeout=setTimeout(()=>{clearTimeout(this.clickTimeout),this.clickTimeout=null},300))}onKeyUp(e){"Escape"!==e.key&&27!==e.keyCode||!this.deletableId||this.props.selectedIdRemoved(this.deletableId)}keyboardEventsSubscription(){!this.deletableId&&this.keyPressSubscribed?(document.removeEventListener("keyup",this.onKeyUp),this.keyPressSubscribed=!1):this.deletableId&&!this.keyPressSubscribed&&(document.addEventListener("keyup",this.onKeyUp),this.keyPressSubscribed=!0)}render(){let e=I.results.getResults(this.props.selectedPlatforms,this.props.selectedTest,this.props.device,this.props.selectedResultIds),t=-1;this.deletableId=null;let s="",i=this.props.selectedResultIds,a=this.state.expandedId;if(i&&i.length>0){let l=i.map(e=>I.results.getResultById(e));e=l.concat(e),t=l.length,this.deletableId=l[t-1].id;for(let e=0;e<2&&e<l.length;e++)s+=l[e].device,1===e||e===l.length-1?s+=" - ":s+=", "}return this.props.setTitle&&this.props.setTitle(s+u.pageTitle),this.keyboardEventsSubscription(),e&&e.length>0?(I.results.setPercents(e,this.props.selectedTest),l.a.createElement(l.a.Fragment,null,this.state.doubleTapHint&&l.a.createElement(M,null,u.hintDoubleTap),e.map(e=>l.a.createElement("div",{itemScope:!0,key:e.id,className:t-- >0?"item selected":a===e.id?"item highlight":"item",id:0===t?"last":null,title:this.getAllResults(e),onClick:t=>{this.handleSingleDblClicks(t,i&&0!==i.length&&i.includes(e.id)?null:()=>{this.setState({expandedId:a===e.id?null:e.id}),this.state.doubleTapHint||this.setState({doubleTapHint:!0})},i&&0!==i.length&&i.includes(e.id)?null:t=>{let s=window.getSelection();s.empty&&s.empty(),this.props.resultSelected(e.id),a===e.id&&this.setState({expandedId:null})})}},l.a.createElement(D,{item:e,percent:e.percent,selectedTest:this.props.selectedTest,selectedIdRemoved:this.props.selectedIdRemoved,closableX:t>0&&e.id!==I.results.yourDeviceId,closableEsc:0===t&&e.id!==I.results.yourDeviceId}),(t>=0||a===e.id)&&l.a.createElement(N,{item:e,noHighlight:a===e.id,selectedTest:this.props.selectedTest}))))):l.a.createElement("div",{className:"nothing"},u.nothingToShow)}}var B=K,O=s(134),H=s.n(O),U=s(135),W=s.n(U),Y=s(136),j=s.n(Y),G=s(137),J=s.n(G),q=s(138),X=s.n(q),z=s(139),V=s.n(z);function Q(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("a",{href:"https://github.com/maxim-saplin/CrossPlatformDiskTest/releases/download/2.3.0/CPDT.exe.zip",target:"_blank"},l.a.createElement("img",{src:H.a}),l.a.createElement("br",null),"Windows"),l.a.createElement("a",{href:"https://github.com/maxim-saplin/CrossPlatformDiskTest/releases/download/2.3.3/CPDT.app.zip",target:"_blank"},l.a.createElement("img",{src:W.a}),l.a.createElement("br",null),"macOS"),l.a.createElement("a",{href:"https://play.google.com/store/apps/details?id=com.Saplin.CPDT",target:"_blank"},l.a.createElement("img",{src:j.a}),l.a.createElement("br",null),"Android"),l.a.createElement("a",{href:"https://github.com/maxim-saplin/CrossPlatformDiskTest/releases/download/2.3.1/com.Saplin.CPDT.apk",target:"_blank"},l.a.createElement("img",{src:J.a}),l.a.createElement("br",null),".APK"),l.a.createElement("a",{href:"https://github.com/maxim-saplin/CrossPlatformDiskTest",target:"_blank"},l.a.createElement("img",{src:X.a}),l.a.createElement("br",null),"GitHub"),l.a.createElement("a",{href:"https://github.com/maxim-saplin/NetCoreStorageSpeedTest/blob/master/README.md",style:{opacity:.65},target:"_blank"},l.a.createElement("img",{src:V.a}),l.a.createElement("br",null),"Linux"))}function Z(e){return l.a.createElement(l.a.Fragment,null,e.inApp&&l.a.createElement("br",null),l.a.createElement(g,{className:e.linkClass,onClick:e.toggleAbout},"[B]ack to Chart"),l.a.createElement("br",null),!e.inApp&&l.a.createElement("div",{class:"downloadBox"},l.a.createElement("h1",null,"Download CPDT Benchmark"),l.a.createElement("br",null),l.a.createElement(Q,null)),!e.download&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"How are the Chart Results Obtained"),l.a.createElement("br",null),l.a.createElement("div",{className:"text"},l.a.createElement("p",null,l.a.createElement("em",null,"xOPS")," application is used to measure storage performance.",!e.inApp&&l.a.createElement(l.a.Fragment,null," See download links above.")),l.a.createElement("p",null,"At least 3 test runs are done, avergaes used."),l.a.createElement("p",null,"To avoid intereferences and side effects all running apps are closed, network activity is disabled (e.g. updates, downloads).")),l.a.createElement("br",null)),l.a.createElement("h1",null,"How does the App Work"),l.a.createElement("br",null),l.a.createElement("div",{className:"text"},l.a.createElement("p",null,"Bla, bla, bla")))}function $(e){return l.a.createElement(l.a.Fragment,null,e.inApp&&l.a.createElement("br",null),l.a.createElement(g,{className:e.linkClass,onClick:e.toggleAbout},"[B] \u041d\u0430\u0437\u0430\u0434 \u043a \u0441\u043f\u0438\u0441\u043a\u0443"),l.a.createElement("br",null),!e.inApp&&l.a.createElement("div",{class:"downloadBox"},l.a.createElement("h1",null,"\u0421\u043a\u0430\u0447\u0430\u0442\u044c xOPS \u0411\u0435\u043d\u0447\u043c\u0430\u0440\u043a"),l.a.createElement("br",null),l.a.createElement(Q,null)))}function ee(e){return l.a.createElement(l.a.Fragment,null,e.inApp&&l.a.createElement("br",null),l.a.createElement(g,{className:e.linkClass,onClick:e.toggleAbout},"[R]etour aux r\xe9sultats"),l.a.createElement("br",null),!e.inApp&&l.a.createElement("div",{class:"downloadBox"},l.a.createElement("h1",null,"T\xe9l\xe9charger xOPS CPU Benchmark"),l.a.createElement("br",null),l.a.createElement(Q,null)))}class te extends i.Component{constructor(e){super(e),this.platformClick=this.platformClick.bind(this),this.testClick=this.testClick.bind(this),this.searchChanged=this.searchChanged.bind(this),this.resultSelected=this.resultSelected.bind(this),this.selectedIdRemoved=this.selectedIdRemoved.bind(this),this.toggleAbout=this.toggleAbout.bind(this),this.swipe=this.swipe.bind(this),this.wpf="wpf",this.android="android",this.macos="macos",this.urlParams=new URLSearchParams(window.location.search?window.location.search:""),this.selectedIdsParam="selected",this.aboutParam="about",this.showDownloadParam="download",this.qParam="q",this.inappParam="inapp";let t=this.getSelectedIdsFromParam(),s=this.urlParams.get(this.inappParam)?this.urlParams.get(this.inappParam).toLocaleLowerCase():null,i=I.dictionaries.getPlatforms().map(e=>e.key),l=this.urlParams.get(this.qParam)?this.urlParams.get(this.qParam).toLocaleLowerCase():null;var a=this.inAppAdjustments(s,i,t);i=a.selectedPlatforms,t=a.selectedResultIds,this.state={selectedTest:I.dictionaries.getTests()[0].key,selectedResultIds:t,inAppPlatform:s,selectedPlatforms:i,device:l,showAbout:this.urlParams.has(this.aboutParam),showDownload:this.urlParams.has(this.showDownloadParam)},this.title=this.urlParams.get("ttl")?decodeURIComponent(this.urlParams.get("ttl")):null,this.renderCounter=0}inAppAdjustments(e,t,s){if(e){e===this.wpf?t=[I.dictionaries.Windows]:e===this.android?t=[I.dictionaries.Android]:e===this.macos&&(t=[I.dictionaries.macOS]);let l=this.urlParams.get("yd");if(l){let e=null;try{e=JSON.parse(l),e&&(e.platform=t[0],I.results.addYourDeviceResult(e)),s=[I.results.yourDeviceId]}catch(i){}}}return{selectedPlatforms:t,selectedResultIds:s}}getSelectedIdsFromParam(){let e=this.urlParams.get(this.selectedIdsParam),t=[];if(e){let s=e.split(",");for(let e=0;e<s.length;e++){let i=parseInt(s[e]);Number.isInteger(i)&&I.results.idExists(i)&&!t.includes(i)&&t.push(i)}}return t}addSelectedIdsToParam(e){if(e.length>0){let t="";for(let s=0;s<e.length;s++)t+=e[s],s!==e.length-1&&(t+=",");this.urlParams.set(this.selectedIdsParam,t)}else this.urlParams.delete(this.selectedIdsParam);window.history.replaceState({},null,"?"+this.urlParams.toString())}testClick(e){this.setState({selectedTest:e,swipeHint:!0})}swipe(e){let t=I.dictionaries.getTests(),s=0;for(;s<t.length&&t[s].key!==this.state.selectedTest;s++);e?s++:s--,s<0?s=t.length-1:s>=t.length&&(s=0),this.setState({selectedTest:t[s].key,swipeHint:!0})}platformClick(e){this.setState({selectedPlatforms:e})}searchChanged(e){this.setState({device:e})}resultSelected(e,t){let s=this.state.selectedResultIds;s.push(e),t&&this.setState({device:""}),this.setSelectedIds(s)}setSelectedIds(e){this.setState({selectedResultIds:e}),this.addSelectedIdsToParam(e)}selectedIdRemoved(e){let t=this.state.selectedResultIds;t=t.filter(t=>t!==e),this.setSelectedIds(t)}setTitle(e){document.title=e}toggleAbout(){let e=!(this.state.showAbout||this.state.showDownload);this.setState({showAbout:e,showDownload:!1}),e?this.urlParams.set(this.aboutParam,""):(this.urlParams.delete(this.aboutParam),this.urlParams.delete(this.showDownloadParam)),window.history.replaceState({},null,"?"+this.urlParams.toString())}render(){let e=this.setTitle;this.title?(e(this.title),this.title=null,e=null):this.state.showAbout?this.setTitle(u.aboutTitle):this.state.showDownload?this.setTitle(u.downloadTitle):this.setTitle(u.title),this.renderCounter++;let t="leftCorner";return this.state.inAppPlatform&&(t+=" inapp"),this.renderCounter<2&&(t+=" textColorVibration"),this.state.showAbout||this.state.showDownload?u.locale===u.ruLocale?l.a.createElement($,{toggleAbout:this.toggleAbout,linkClass:t,inApp:null!=this.state.inAppPlatform,download:this.state.showDownload}):u.locale===u.frLocale?l.a.createElement(ee,{toggleAbout:this.toggleAbout,linkClass:t,inApp:null!=this.state.inAppPlatform,download:this.state.showDownload}):l.a.createElement(Z,{toggleAbout:this.toggleAbout,linkClass:t,inApp:null!=this.state.inAppPlatform,download:this.state.showDownload}):l.a.createElement(o.a,{id:"swipe",onSwipedLeft:()=>this.swipe(!0),onSwipedRight:()=>this.swipe(!1),threshold:75},l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:this.state.inAppPlatform!==this.wpf?"pad":null},!this.state.inAppPlatform&&l.a.createElement("h1",null,u.title,": "),!this.state.inAppPlatform&&l.a.createElement("h2",null,u.subTitle),l.a.createElement(g,{className:t,onClick:this.toggleAbout},"[?]"),l.a.createElement(b,{itemClick:this.platformClick,selectedKey:this.state.selectedPlatforms,items:I.dictionaries.getPlatforms(),selectAll:!0}),l.a.createElement(b,{itemClick:this.testClick,selectedKey:this.state.selectedTest,items:I.dictionaries.getTests()}),l.a.createElement(_,{searchChanged:this.searchChanged,enterPressed:this.resultSelected,value:this.state.device}),l.a.createElement("br",null),l.a.createElement(B,{selectedTest:this.state.selectedTest,selectedPlatforms:this.state.selectedPlatforms,selectedResultIds:this.state.selectedResultIds,selectedIdRemoved:this.selectedIdRemoved,resultSelected:this.resultSelected,device:this.state.device,setTitle:e})),"ontouchstart"in window&&this.state.swipeHint&&l.a.createElement(M,null,u.hintSwipe)))}}var se=te;let ie=null;!function(){const e=new URLSearchParams(window.location.search);ie=e.get("theme")}(),function(){u.init(),document.title=u.pageTitle,"white"!==ie&&(document.body.className="dark");I.init().then(()=>{n.a.render(l.a.createElement(se,null),document.getElementById("root"))})}()}},[[140,1,2]]]);
//# sourceMappingURL=main.e5b4b7d4.chunk.js.map